<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Regex Validation Tests - ALU Life Planner</title>

  <style>
    /* --- Page Style --- */
    body {
      background: #000;
      color: #d0b0ff;
      font-family: Arial, sans-serif;
      padding: 30px;
      max-width: 800px;
      margin: auto;
    }

    h1 {
      color: #4db8ff;
      text-align: center;
      margin-bottom: 20px;
    }

    p {
      text-align: center;
    }

    /* --- Test box style --- */
    .regex-test {
      background: #1a1a1a;
      border-radius: 8px;
      box-shadow: 0 2px 5px #111;
      padding: 20px;
      margin-bottom: 20px;
    }

    label {
      display: block;
      margin-top: 10px;
      font-weight: bold;
      color: #ffccff;
    }

    input {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      border-radius: 5px;
      border: 1px solid #555;
      background: #111;
      color: #eee;
    }

    .result {
      margin-top: 8px;
      font-weight: bold;
    }

    .valid { color: #00ff80; }
    .invalid { color: #ff5555; }

    a.back {
      display: inline-block;
      margin-top: 15px;
      color: #4db8ff;
      text-decoration: none;
      font-weight: bold;
    }
  </style>
</head>

<body>
  <h1>Regex Validation Test Page</h1>
  <p>Test all regex patterns used in your <b>ALU Life Planner</b> app.</p>

  <!-- 1. Title validation -->
  <div class="regex-test">
    <h3>1️ Title / Description</h3>
    <p><code>/^\S(?:.*\S)?$/</code> → No extra spaces at start or end</p>
    <label>Test Input:</label>
    <input type="text" id="testTitle" placeholder="e.g. Study session">
    <div id="resultTitle" class="result"></div>
  </div>

  <!-- 2. Duration validation -->
  <div class="regex-test">
    <h3>2️ Duration (Numeric)</h3>
    <p><code>/^(0|[1-9]\d*)(\.\d{1,2})?$/</code> → Must be a positive number</p>
    <label>Test Input:</label>
    <input type="text" id="testDuration" placeholder="e.g. 45 or 60.5">
    <div id="resultDuration" class="result"></div>
  </div>

  <!-- 3. Date validation -->
  <div class="regex-test">
    <h3>3️ Date (YYYY-MM-DD)</h3>
    <p><code>/^\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01])$/</code></p>
    <label>Test Input:</label>
    <input type="text" id="testDate" placeholder="e.g. 2025-10-14">
    <div id="resultDate" class="result"></div>
  </div>

  <!-- 4. Tag validation -->
  <div class="regex-test">
    <h3>4️ Tag / Category</h3>
    <p><code>/^[A-Za-z]+(?:[ -][A-Za-z]+)*$/</code> → Letters, spaces, or hyphens only</p>
    <label>Test Input:</label>
    <input type="text" id="testTag" placeholder="e.g. Group Project">
    <div id="resultTag" class="result"></div>
  </div>

  <!-- 5. Duplicate word test -->
  <div class="regex-test">
    <h3>5️ Duplicate Words</h3>
    <p><code>/\b(\w+)\s+\1\b/i</code> → Finds repeats like “study study”</p>
    <label>Test Input:</label>
    <input type="text" id="testDuplicate" placeholder="e.g. study study group">
    <div id="resultDuplicate" class="result"></div>
  </div>

  <a href="index.html" class="back">← Back to Main App</a>

  <script>
    // --- All regex patterns ---
    const titleRegex = /^\S(?:.*\S)?$/;
    const durationRegex = /^(0|[1-9]\d*)(\.\d{1,2})?$/;
    const dateRegex = /^\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01])$/;
    const tagRegex = /^[A-Za-z]+(?:[ -][A-Za-z]+)*$/;
    const duplicateWordRegex = /\b(\w+)\s+\1\b/i;

    // --- Function to test user input ---
    function testInput(inputId, regex, resultId, reverse = false) {
      document.getElementById(inputId).addEventListener("input", e => {
        const value = e.target.value;
        const result = document.getElementById(resultId);

        const match = regex.test(value);
        const valid = reverse ? !match : match; // Reverse only for duplicate check

        result.textContent = valid ? "Valid" : "Invalid";
        result.className = "result " + (valid ? "valid" : "invalid");
      });
    }

    // --- Connect all test fields ---
    testInput("testTitle", titleRegex, "resultTitle");
    testInput("testDuration", durationRegex, "resultDuration");
    testInput("testDate", dateRegex, "resultDate");
    testInput("testTag", tagRegex, "resultTag");
    testInput("testDuplicate", duplicateWordRegex, "resultDuplicate", true); // reverse = true
  </script>
</body>
</html>
